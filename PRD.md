"Hãy đóng vai một chuyên gia lập trình game HTML5/Canvas và tâm lý học hành vi. Tôi muốn làm một game đơn giản tên là 'Critical Mass'. Hãy viết code trong 1 file HTML duy nhất (bao gồm CSS, JS).

Luật chơi:

Có một vòng tròn ở giữa màn hình.

Người chơi click hoặc tap vào vòng tròn để bơm năng lượng. Vòng tròn sẽ to dần ra.

Năng lượng sẽ tự động giảm dần theo thời gian (decay). Người chơi phải tap nhanh hơn tốc độ giảm.

Cơ chế 'Điểm Bùng Phát': Mỗi level sẽ có một ngưỡng bí ẩn (random từ 80% đến 95% kích thước tối đa). Khi người chơi tap đạt đến ngưỡng này, vòng tròn sẽ 'Bùng nổ' (hiệu ứng particle đẹp mắt), người chơi qua màn và nhận điểm thưởng lớn.

Cơ chế Dopamine:

Mỗi cú tap bình thường: +1 điểm, âm thanh nhẹ.

Cú tap 'Critical' (tỷ lệ 10%): +15 điểm, màn hình rung nhẹ, âm thanh to hơn, màu vòng tròn lóe sáng.

UI: Minimalist, hiện đại, nền tối, màu neon. Có điểm số và Level ở góc.

Hãy code game này sao cho mượt mà (60fps), hiệu ứng 'juicy' (rung lắc, hạt nổ tung) để kích thích thị giác."


---

"Game cũ chán quá. Hãy đổi sang cơ chế 'Chain Reaction'.

Màn hình có 30-50 quả bóng nhỏ di chuyển nảy lung tung.

Người chơi click chuột để tạo 1 vụ nổ (vòng tròn mở rộng rồi biến mất).

Nếu quả bóng chạm vào vụ nổ, nó biến thành vụ nổ mới.

Qua màn nếu dây chuyền này nổ được > 70% số bóng.

Dopamine: Thêm hiệu ứng hạt (particles) tung tóe nhiều màu sắc, âm thanh nổ dây chuyền vui tai.

Random Reward: 10% cơ hội xuất hiện 'Virus Ball', nổ trúng nó thì vụ nổ to gấp đôi."